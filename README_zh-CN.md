# 电商客户行为分析项目 (E-commerce Customer Behavior Analysis)

## 1. 项目概述

本项目旨在通过分析真实的电商交易数据，深入挖掘客户的消费行为模式。我们利用 **RFM模型** 对客户进行价值分层，识别出不同类型的客户群体，如“高价值客户”、“流失风险客户”等。最终，基于分析结果，为该电商平台的精细化运营和营销策略提供数据驱动的、可执行的商业建议。

---

## 2. 项目结构

本项目采用模块化的结构，确保代码的清晰、可维护和可复现。

```
ecommerce_behavior_analysis/
├── data/
│   ├── raw/                # 存放原始数据集 online_retail_II.csv
│   └── processed/          # 存放清洗和处理后的数据
├── reports/
│   └── figures/            # 存放分析过程中生成的可视化图表
├── scripts/                # 存放核心的Python分析脚本
│   ├── data_cleaning.py          # 数据清洗脚本
│   ├── feature_engineering.py    # 特征工程脚本 (计算RFM)
│   └── rfm_analysis.py           # RFM分析与客户分层脚本
├── .venv/                  # Python虚拟环境
├── README.md               # 项目说明文件
└── requirements.txt        # 项目依赖库列表
```
---

## 3. 技术栈

* **编程语言:** Python 3
* **核心库:**
    * `Pandas`: 用于数据处理和分析
    * `Matplotlib` & `Seaborn`: 用于数据可视化

---

## 4. 如何运行

1.  **克隆项目到本地:**
    ```bash
    git clone [你的项目GitHub链接]
    cd ecommerce_behavior_analysis
    ```

2.  **安装依赖:**
    建议在虚拟环境中安装，以避免包版本冲突。
    ```bash
    pip install -r requirements.txt
    ```

3.  **按顺序执行脚本:**
    整个分析流程被分为三个独立的脚本，请按以下顺序在终端中运行：

    * **第一步：数据清洗**
        ```bash
        python scripts/data_cleaning.py
        ```
        此脚本会读取 `data/raw/` 中的原始数据，进行清洗后，将结果保存为 `data/processed/online_retail_cleaned.csv`。

    * **第二步：特征工程 (计算RFM)**
        ```bash
        python scripts/feature_engineering.py
        ```
        此脚本会读取清洗后的数据，计算每个客户的R, F, M值，并将结果保存为 `data/processed/rfm_data.csv`。

    * **第三步：客户分层分析**
        ```bash
        python scripts/rfm_analysis.py
        ```
        此脚本会读取RFM数据，进行打分和分层，最终将带有客户标签的数据保存为 `data/processed/customer_segments.csv`，同时在 `reports/figures/` 目录下生成可视化图表。

---

## 5. 分析流程与方法

### 5.1 数据清洗
原始数据集包含约106万条交易记录。我们执行了以下清洗步骤：
-   移除了约24万条 `Customer ID` 为空的记录。
-   剔除了代表“退货”的负数数量记录和价格为0的异常记录。
-   将 `InvoiceDate` 转换为日期格式，`Customer ID` 转换为整数格式。
-   删除了约2.6万条完全重复的记录。
经过清洗，我们得到了约78万条高质量的交易数据用于后续分析。

### 5.2 RFM模型
我们采用经典的RFM模型来衡量客户价值：
-   **R (Recency - 最近一次消费时间):** 客户最近一次购买距离现在（或数据集的最后一天）有多远。
-   **F (Frequency - 消费频率):** 客户在统计周期内总共购买了多少次。
-   **M (Monetary - 消费金额):** 客户在统计周期内总共消费了多少钱。

### 5.3 客户分层
基于计算出的RFM值，我们通过以下步骤对客户进行分层：
1.  **RFM打分：** 使用 `pd.qcut` 将每个指标（R, F, M）的客户群体分为5个等份，并赋予1-5分。
2.  **客户标签定义：** 将每个客户的R/F/M分数与其所在群体的平均分进行比较，最终将客户划分为“高价值客户”、“忠诚客户”、“新客户”、“流失风险客户”等8个不同的群体。

---

## 6. 核心发现与洞察

通过对客户群体的分布进行可视化，我们得到了以下核心发现：

![客户分层数量分布](reports/figures/customer_segmentation_distribution.png)

1.  **客户流失风险是首要问题：** “流失风险客户”占比最高，表明客户留存体系存在巨大挑战，大部分客户在购买后的一段时间内陷入沉寂。
2.  **高价值客户是核心支柱：** 公司依赖于一个强大的“高价值客户”群体来支撑主要收入，这部分客户的忠诚度至关重要。
3.  **拉新能力表现良好：** “新客户”群体体量可观，证明公司能持续吸引新用户，为业务增长提供了基础。
4.  **客户转化环节存在瓶颈：** “潜力客户”数量相对较少，可能暗示在将新客户或低频客户转化为忠诚客户的过程中，转化效率有待提升。

---

## 7. 商业建议

| 客户群体 | 发现 | 营销策略建议 |
| :--- | :--- | :--- |
| **流失风险客户** | 数量最多，风险最高 | **目标：** 紧急唤醒与召回<br>**具体措施：** 发起大规模“老用户召回”活动，通过邮件、短信等方式推送大额专属优惠券；进行有奖问卷调研，了解其不再购买的原因。 |
| **高价值客户** | 核心收入来源 | **目标：** 极致服务与价值深挖<br>**具体措施：** 建立VIP会员制度，提供专属客服、新品优先体验权、生日礼包等；通过一对一沟通，推荐高利润或套餐产品，进一步提升其终身价值。 |
| **新客户** | 增长的希望 | **目标：** 提升首次复购率<br>**具体措施：** 优化“首次购买”后的用户体验，比如设计一个“欢迎邮件系列”，在用户首单后的一周、一个月分别推送相关商品推荐和“第二次购买”专属小额优惠券。 |
| **潜力客户** | 数量过少，转化不足 | **目标：** 重点培育与激励<br>**具体措施：** 将该群体作为重点运营对象，分析他们的共同偏好，进行精准的商品推荐和营销活动，鼓励他们提高购买频率，尽快向“忠诚客户”转化。 |

---

## 8. 总结与未来展望

本项目成功地使用RFM模型对电商客户进行了价值分层，并通过数据可视化揭示了客户群体现状、挑战与机遇。提出的商业建议旨在帮助企业实现精细化客户运营，以提升客户留存率和整体盈利能力。

**未来可探索的方向：**
-   **构建流失预测模型：** 利用机器学习算法（如逻辑回归、随机森林），基于客户历史行为预测其未来的流失概率。
-   **购物篮分析：** 使用Apriori等关联规则算法，发现哪些商品经常被一起购买，以指导捆绑销售和商品推荐。
-   **客户生命周期价值(CLV)预测：** 建立更复杂的模型来预测每个客户在未来能带来的总价值。

---

## 9. 团队成员
